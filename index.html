<!DOCTYPE html>
<html>
	<head>
		<title>Erugo</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="icon" type="image/x-icon" href="static/wiz.png">
		<link rel="stylesheet" href="src/style/style.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script src="src/scripts/main.js"></script>
		<script src="src/scripts/player.js"></script>
		<script src="src/scripts/dungeon.js"></script>
		<script src="src/scripts/key.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    function getMonospaceCharacterDimensions(character, fontSize) {
      const hiddenElement = document.createElement('div');
      hiddenElement.style.fontSize = fontSize;
      hiddenElement.style.fontFamily = 'monospace';
      hiddenElement.textContent = character;

      hiddenElement.style.position = 'absolute';
      hiddenElement.style.left = '-9999px';

      document.body.appendChild(hiddenElement);
      const rect = hiddenElement.getBoundingClientRect();

      document.body.removeChild(hiddenElement);

      return {
        height: rect.height,
        width: rect.width
      };
    }
    const { width, height } = getMonospaceCharacterDimensions('@', '16');
    console.log(width);
	console.log(height);
	CHARHEIGHT = height;
	CHARWIDTH = width;
	
	colorTheme(getMode());
	dungeonInit();
	arrowKeys();
	updateStats(getPlayer());
	clickListen();
  });
</script>

	</head>

	<body>
		<button onclick="reset()">Reset Game</button>
		<button onclick="save()">Save Game</button>
		<button onclick="toggleTheme()">Night Mode</button><br><br>
		<!--<script>colorTheme(getMode())</script>-->
		
		<div id="level"></div>

		<div id="dungeon">
			<div id="entity-layer"></div>
			<!--<script>dungeonInit();</script>-->
		</div>

		<div id="error" style="text-align:center"></div>
		
		<div id="arrow-keys"></div>
		<!--<script>arrowKeys();</script>-->
		
		<div id="stats">
			<!--<script>
				updateStats(getPlayer());
				clickListen();
			</script>-->
		</div>

	</body>

</html>
